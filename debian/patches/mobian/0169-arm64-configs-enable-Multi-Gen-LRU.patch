From: undef <gitlab@undef.tools>
Date: Thu, 16 Feb 2023 05:12:38 +0000
Subject: arm64: configs: enable Multi-Gen LRU

Multi-Gen LRU helps on RAM-constrained devices, reducing CPU load
induced by paging and minimizing system thrashing. It appears to make
a tangible difference on the Librem 5, so enable it by default.
---
 arch/arm64/configs/sunxi64_defconfig | 2 ++
 1 file changed, 2 insertions(+)

diff --git a/arch/arm64/configs/sunxi64_defconfig b/arch/arm64/configs/sunxi64_defconfig
index b5d35d9..7a9c0a4 100644
--- a/arch/arm64/configs/sunxi64_defconfig
+++ b/arch/arm64/configs/sunxi64_defconfig
@@ -141,6 +141,8 @@ CONFIG_TRANSPARENT_HUGEPAGE=y
 CONFIG_CMA=y
 CONFIG_DEFERRED_STRUCT_PAGE_INIT=y
 CONFIG_USERFAULTFD=y
+CONFIG_LRU_GEN=y
+CONFIG_LRU_GEN_ENABLED=y
 CONFIG_NET=y
 CONFIG_PACKET=y
 CONFIG_PACKET_DIAG=m
